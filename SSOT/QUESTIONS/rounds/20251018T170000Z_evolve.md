{
  "questions": [
    {
      "id": "Q_051",
      "area": "Data",
      "question": "How do we enforce MIN_USERS_PER_PATH=10 in MTA path aggregation before any analytics queries?",
      "why_it_matters": "GDPR privacy requirement; C05_MTA is Red with gap in compliance; prevents individual user tracking",
      "evidence_anchor": ["agents/mta_agent.py", "core/privacy_filter.py"],
      "acceptance_signal": "Unit test with path of 5 users rejected; path of 10+ users passes aggregation",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_052",
      "area": "Risk",
      "question": "Does Budget Allocation Agent verify allocation_id uniqueness before applying changes to ad platforms?",
      "why_it_matters": "C13 is Red; idempotency gap; prevents double-spend on retries",
      "evidence_anchor": ["agents/budget_allocation.py", "core/idempotency.py"],
      "acceptance_signal": "Execute same allocation twice with same ID; verify single application in ad platform",
      "urgency": "P0",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_053",
      "area": "Compliance",
      "question": "Does Compliance Agent hard-reject creative assets missing Promo/広告 label before upload?",
      "why_it_matters": "C12 Red; legal compliance gap; prevents regulatory violations in JP/VN markets",
      "evidence_anchor": ["agents/compliance_agent.py", "core/validation.py"],
      "acceptance_signal": "Submit ad without label; verify HTTP 400 with rejection reason",
      "urgency": "P0",
      "owner_hint": "Compliance"
    },
    {
      "id": "Q_054",
      "area": "Infra",
      "question": "Are circuit breakers configured for Meta/Google/TikTok ad APIs with failure thresholds?",
      "why_it_matters": "Infra_ExternalAPIs Red; prevents cascade failures and cost overruns",
      "evidence_anchor": ["core/circuit_breaker.py", "agents/ad_platform_agent.py"],
      "acceptance_signal": "Mock failing API; verify circuit opens after threshold and stops requests",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_055",
      "area": "Observability",
      "question": "Do all event handlers propagate correlation_id through logs, spans, and downstream API calls?",
      "why_it_matters": "Infra_Observability Red; distributed tracing gap; blocks end-to-end debugging",
      "evidence_anchor": ["core/event.py", "core/tracing.py", "core/logging.py"],
      "acceptance_signal": "Trigger playbook; verify all logs/spans share single correlation_id",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_056",
      "area": "Execution",
      "question": "Does Activation Agent prevent duplicate API mutations using operation_id deduplication?",
      "why_it_matters": "C17 Red; idempotency gap; Kafka retries cause duplicate budget changes",
      "evidence_anchor": ["agents/activation_agent.py", "core/idempotency.py"],
      "acceptance_signal": "Send same activation twice; verify single mutation in ad platform logs",
      "urgency": "P0",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_057",
      "area": "Features",
      "question": "Does Feature Store validate online/offline feature parity for all feature groups before serving?",
      "why_it_matters": "C03 Red; train/serve skew causes model drift; data integrity gap",
      "evidence_anchor": ["core/feature_store.py", "tests/test_feature_store.py"],
      "acceptance_signal": "Compute same features online/offline for same input; verify <0.1% difference",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_058",
      "area": "Data",
      "question": "Does Event Bus deduplicate messages using event_id + Redis cache before processing?",
      "why_it_matters": "C01 Red; Kafka retries cause duplicate identity resolutions; data integrity gap",
      "evidence_anchor": ["core/message_bus.py", "core/event_handlers.py"],
      "acceptance_signal": "Publish duplicate events; verify single processing via audit log",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_059",
      "area": "Strategy",
      "question": "Does MMM Agent include holiday and seasonality controls in revenue model training?",
      "why_it_matters": "C04 Red; missing controls bias ROAS estimates; contract drift gap",
      "evidence_anchor": ["agents/mmm_agent.py", "config/mmm_config.yaml"],
      "acceptance_signal": "Train with/without controls; verify MAPE improvement >5% with controls",
      "urgency": "P1",
      "owner_hint": "Analytics"
    },
    {
      "id": "Q_060",
      "area": "Data",
      "question": "Does Schema Validator detect and alert on BigQuery schema changes within 15 minutes?",
      "why_it_matters": "C02 Red; schema drift detection gap; prevents silent data quality failures",
      "evidence_anchor": ["agents/schema_validator.py", "agents/data_quality.py"],
      "acceptance_signal": "Change table schema; verify alert fires within 15 min via monitoring",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_061",
      "area": "Execution",
      "question": "Does Playbook Orchestrator auto-escalate approvals after 24h timeout to prevent gridlock?",
      "why_it_matters": "C16 Red; approval timeout gap; blocks automated budget reallocation",
      "evidence_anchor": ["agents/approval_agent.py", "agents/playbook_orchestrator.py"],
      "acceptance_signal": "Request approval; wait 24h; verify auto-escalation to backup approvers",
      "urgency": "P1",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_062",
      "area": "Observability",
      "question": "Does Data Quality Agent fire alerts when data freshness exceeds 6h SLA?",
      "why_it_matters": "C02 Red; freshness SLA monitoring gap; stale data degrades MMM accuracy",
      "evidence_anchor": ["agents/data_quality.py", "core/metrics.py"],
      "acceptance_signal": "Simulate 6h delay; verify alert sent to Slack/PagerDuty",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_063",
      "area": "Features",
      "question": "Does Feature Store serve features with p95 latency <50ms under 1000 QPS load?",
      "why_it_matters": "C03 Red; latency requirement for real-time decisions; observability gap",
      "evidence_anchor": ["core/feature_store.py", "tests/test_feature_store_performance.py"],
      "acceptance_signal": "Load test 1000 QPS for 5 min; verify p95 <50ms via Prometheus",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_064",
      "area": "Strategy",
      "question": "Does MMM Model Monitor trigger auto-retrain when weekly MAPE exceeds 15%?",
      "why_it_matters": "C04 Red; model drift detection gap; prevents stale ROAS estimates",
      "evidence_anchor": ["agents/mmm_agent.py", "agents/model_monitor.py"],
      "acceptance_signal": "Inject high-error week; verify retrain job triggered automatically",
      "urgency": "P1",
      "owner_hint": "Analytics"
    },
    {
      "id": "Q_065",
      "area": "Compliance",
      "question": "Are audit logs immutable with append-only writes and 7yr retention policy enforced?",
      "why_it_matters": "Compliance_AuditLog Red; GDPR/SOX requirement; prevents tampering",
      "evidence_anchor": ["core/audit.py", "infrastructure/storage.py"],
      "acceptance_signal": "Attempt UPDATE/DELETE on audit record; verify rejection with error",
      "urgency": "P1",
      "owner_hint": "Compliance"
    },
    {
      "id": "Q_066",
      "area": "Execution",
      "question": "Does Playbook Orchestrator support dry-run mode that prevents all mutations?",
      "why_it_matters": "C16 Red; risk gate gap; prevents expensive production mistakes",
      "evidence_anchor": ["agents/playbook_orchestrator.py", "agents/activation_agent.py"],
      "acceptance_signal": "Execute playbook with dry_run=true; verify no API calls made",
      "urgency": "P1",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_067",
      "area": "Data",
      "question": "Does revenue ingestion convert all currencies to USD using historical FX rates at transaction time?",
      "why_it_matters": "DataOps_Revenue Red; multi-currency gap causes 5-10% misreporting",
      "evidence_anchor": ["core/contracts.py", "core/fx_rates.py", "agents/ingestion_agent.py"],
      "acceptance_signal": "Store JPY revenue; verify USD conversion at correct historical rate",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_068",
      "area": "Infra",
      "question": "Are rate limiters configured for all external APIs with per-second/per-minute thresholds?",
      "why_it_matters": "Infra_ExternalAPIs Red; prevents API bans and operations interruption",
      "evidence_anchor": ["core/rate_limiter.py", "agents/ad_platform_agent.py", "agents/llm_client.py"],
      "acceptance_signal": "Send burst 100 req/s; verify graceful queueing with no rejections",
      "urgency": "P1",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_069",
      "area": "Data",
      "question": "Does Creative Intelligence Agent fingerprint assets to detect and reject duplicate uploads?",
      "why_it_matters": "Creative_AssetManagement Red; prevents duplicate uploads and wasted spend",
      "evidence_anchor": ["core/asset_fingerprint.py", "agents/creative_intelligence.py"],
      "acceptance_signal": "Upload same asset twice; verify second upload rejected with duplicate error",
      "urgency": "P2",
      "owner_hint": "Creative"
    },
    {
      "id": "Q_070",
      "area": "Secrets",
      "question": "Does Privacy Hasher load PII salt from Secret Manager with automatic rotation support?",
      "why_it_matters": "C01 Red; secrets gap; GDPR compliance requires rotatable salts",
      "evidence_anchor": ["core/security.py", "core/privacy_hasher.py"],
      "acceptance_signal": "Mock Secret Manager rotation; verify new salt loaded without restart",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_071",
      "area": "Contracts",
      "question": "Do all contract schemas support versioning with backward-compatible deserialization?",
      "why_it_matters": "C02 Red; schema evolution gap; prevents breaking changes during rollout",
      "evidence_anchor": ["core/contracts.py", "core/schema_validator.py"],
      "acceptance_signal": "Deserialize v1 schema with v2 reader; verify successful parsing",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_072",
      "area": "Risk",
      "question": "Does LLM Guardrails enforce temperature <=0.2 for all LLM calls before execution?",
      "why_it_matters": "C10 Red; determinism requirement; temperature validation gap",
      "evidence_anchor": ["agents/llm_guardrails.py", "agents/llm_client.py"],
      "acceptance_signal": "Attempt LLM call with temp=0.5; verify rejection with validation error",
      "urgency": "P0",
      "owner_hint": "Risk"
    },
    {
      "id": "Q_073",
      "area": "Risk",
      "question": "Does LLM Guardrails reject outputs with source_ids array length <2?",
      "why_it_matters": "C10 Red; RAG-only principle; source citation enforcement gap",
      "evidence_anchor": ["agents/llm_guardrails.py", "core/validation.py"],
      "acceptance_signal": "Mock LLM output with 1 source; verify rejection before storage",
      "urgency": "P0",
      "owner_hint": "Risk"
    },
    {
      "id": "Q_074",
      "area": "Risk",
      "question": "Does Crisis Detection Agent use a different model for verification than for analysis?",
      "why_it_matters": "C11 Red; verifier separation requirement; same model can't verify itself",
      "evidence_anchor": ["config/model_registry.yaml", "agents/crisis_detection.py"],
      "acceptance_signal": "Verify model_registry enforces analyst!=verifier; check config validation",
      "urgency": "P0",
      "owner_hint": "Risk"
    },
    {
      "id": "Q_075",
      "area": "RBAC",
      "question": "Does API gateway validate JWT tokens and enforce role-based access to all sensitive endpoints?",
      "why_it_matters": "C18 Red; RBAC gap; prevents unauthorized access to approval/activation APIs",
      "evidence_anchor": ["infrastructure/api_gateway.py", "core/auth.py"],
      "acceptance_signal": "Call sensitive endpoint without token; verify HTTP 401",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_076",
      "area": "CI/CD",
      "question": "Does CI pipeline fail builds on schema validation errors before merge?",
      "why_it_matters": "C02 Red; prevents schema drift from reaching production",
      "evidence_anchor": [".github/workflows/ci.yaml", "scripts/validate_schemas.py"],
      "acceptance_signal": "Submit PR with invalid schema; verify CI fails with schema error",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_077",
      "area": "CI/CD",
      "question": "Do contract tests run on every commit before functional tests?",
      "why_it_matters": "C02/C04/C10 Red; contract-first principle; prevents integration failures",
      "evidence_anchor": [".github/workflows/ci.yaml", "tests/contracts/"],
      "acceptance_signal": "Break contract; verify CI fails at contract test stage",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_078",
      "area": "Infra",
      "question": "Are all external API clients instrumented with OpenTelemetry spans?",
      "why_it_matters": "Infra_Observability Red; enables E2E tracing for debugging",
      "evidence_anchor": ["core/tracing.py", "agents/ad_platform_agent.py", "agents/llm_client.py"],
      "acceptance_signal": "Make API call; verify span created with correct attributes in Jaeger",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_079",
      "area": "Infra",
      "question": "Does Prometheus scrape metrics from all agent pods at 15s intervals?",
      "why_it_matters": "C19 Red; monitoring gap; needed for SLA tracking and alerting",
      "evidence_anchor": ["infrastructure/prometheus.yaml", "core/metrics.py"],
      "acceptance_signal": "Deploy agent; verify metrics visible in Prometheus within 30s",
      "urgency": "P1",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_080",
      "area": "Data",
      "question": "Does Identity Resolution Agent handle probabilistic matching collision rate <1%?",
      "why_it_matters": "C01 Red; accuracy gap; prevents false user merges",
      "evidence_anchor": ["agents/identity_resolution.py", "tests/test_identity_accuracy.py"],
      "acceptance_signal": "Test with 10K users; verify collision rate <1% via confusion matrix",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_081",
      "area": "Strategy",
      "question": "Does MTA Agent handle conversion paths up to 10 touchpoints without memory overflow?",
      "why_it_matters": "C05 Red; scalability gap; prevents OOM on complex user journeys",
      "evidence_anchor": ["agents/mta_agent.py", "tests/test_mta_performance.py"],
      "acceptance_signal": "Process 1M paths with 10 touchpoints; verify memory <8GB",
      "urgency": "P1",
      "owner_hint": "Analytics"
    },
    {
      "id": "Q_082",
      "area": "Execution",
      "question": "Does Activation Agent validate budget changes against daily spend limits before push?",
      "why_it_matters": "C17 Red; risk gate gap; prevents over-budget activations",
      "evidence_anchor": ["agents/activation_agent.py", "core/validation.py"],
      "acceptance_signal": "Submit allocation exceeding limit; verify rejection before API call",
      "urgency": "P0",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_083",
      "area": "Compliance",
      "question": "Does Policy Agent log all compliance check results with pass/fail reasons?",
      "why_it_matters": "C18 Red; audit trail gap; required for regulatory compliance",
      "evidence_anchor": ["agents/policy_agent.py", "core/audit.py"],
      "acceptance_signal": "Run compliance check; verify audit log contains result + reason",
      "urgency": "P1",
      "owner_hint": "Compliance"
    },
    {
      "id": "Q_084",
      "area": "Latency",
      "question": "Does Budget Allocation Agent compute optimal allocation in <5s for 10 channels?",
      "why_it_matters": "C13 Red; latency requirement; blocks real-time playbook execution",
      "evidence_anchor": ["agents/budget_allocation.py", "tests/test_budget_performance.py"],
      "acceptance_signal": "Optimize 10 channels; verify completion time <5s via profiling",
      "urgency": "P1",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_085",
      "area": "Data",
      "question": "Does BigQuery Export partition tables by date for efficient querying?",
      "why_it_matters": "C02 Red; query performance gap; prevents full table scans",
      "evidence_anchor": ["infrastructure/bigquery.tf", "dbt/models/core/"],
      "acceptance_signal": "Query last 7 days; verify only 7 partitions scanned via query plan",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_086",
      "area": "Features",
      "question": "Does Feature Store cache frequently accessed features in Redis for <10ms access?",
      "why_it_matters": "C03 Red; latency optimization; enables sub-50ms total serving time",
      "evidence_anchor": ["core/feature_store.py", "infrastructure/redis.tf"],
      "acceptance_signal": "Access cached feature; verify Redis hit with latency <10ms",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_087",
      "area": "Strategy",
      "question": "Does Creative Intelligence Agent cluster assets by visual embeddings with >0.8 similarity?",
      "why_it_matters": "C08 Red; creative analysis gap; enables motif extraction",
      "evidence_anchor": ["agents/creative_intelligence.py", "core/embeddings.py"],
      "acceptance_signal": "Cluster 100 similar assets; verify intra-cluster similarity >0.8",
      "urgency": "P2",
      "owner_hint": "Creative"
    },
    {
      "id": "Q_088",
      "area": "Risk",
      "question": "Does Crisis Detection Agent require >=2 independent sources before raising risk score?",
      "why_it_matters": "C11 Red; multi-source verification gap; prevents false positives",
      "evidence_anchor": ["agents/crisis_detection.py", "core/validation.py"],
      "acceptance_signal": "Submit crisis with 1 source; verify risk_score=0 or requires_verify=true",
      "urgency": "P0",
      "owner_hint": "Risk"
    },
    {
      "id": "Q_089",
      "area": "Governance",
      "question": "Does Approval Agent notify backup approvers after primary timeout of 8h?",
      "why_it_matters": "C16 Red; approval workflow gap; prevents single-point-of-failure",
      "evidence_anchor": ["agents/approval_agent.py", "core/notifications.py"],
      "acceptance_signal": "Request approval; wait 8h; verify backup notified via Slack",
      "urgency": "P1",
      "owner_hint": "Execution"
    },
    {
      "id": "Q_090",
      "area": "Secrets",
      "question": "Are all API keys and tokens loaded from Secret Manager at runtime, not from env vars?",
      "why_it_matters": "C01/C17 Red; secrets hygiene; prevents leaks in logs/errors",
      "evidence_anchor": ["core/security.py", "infrastructure/secrets.tf"],
      "acceptance_signal": "Audit codebase; verify no hardcoded secrets or env var usage",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_091",
      "area": "Observability",
      "question": "Does Grafana dashboard show p50/p95/p99 latency for all agent operations?",
      "why_it_matters": "C19 Red; SLA visibility gap; needed for performance monitoring",
      "evidence_anchor": ["infrastructure/grafana.json", "core/metrics.py"],
      "acceptance_signal": "Open dashboard; verify latency panels populated with percentiles",
      "urgency": "P1",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_092",
      "area": "CI/CD",
      "question": "Does deployment pipeline require green unit + integration tests before Kubernetes rollout?",
      "why_it_matters": "C02/C10 Red; deployment safety; prevents broken code in production",
      "evidence_anchor": [".github/workflows/deploy.yaml", "scripts/deploy.sh"],
      "acceptance_signal": "Fail unit test; verify deployment blocked with test error",
      "urgency": "P0",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_093",
      "area": "Infra",
      "question": "Does Kubernetes rollout use canary deployment with 10% traffic before full rollout?",
      "why_it_matters": "C16/C17 Red; risk mitigation; limits blast radius of bad deployments",
      "evidence_anchor": ["infrastructure/k8s/deployment.yaml", "infrastructure/istio/"],
      "acceptance_signal": "Deploy new version; verify 10% traffic for 5 min before 100%",
      "urgency": "P1",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_094",
      "area": "Data",
      "question": "Does dbt test all foreign key relationships in core data models?",
      "why_it_matters": "C02 Red; data integrity; prevents orphaned records in marts",
      "evidence_anchor": ["dbt/models/core/", "dbt/tests/"],
      "acceptance_signal": "Run dbt test; verify FK tests pass for all core models",
      "urgency": "P1",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_095",
      "area": "Strategy",
      "question": "Does MMM Agent compute confidence intervals using bootstrap resampling?",
      "why_it_matters": "C04 Red; uncertainty quantification gap; needed for risk-aware allocation",
      "evidence_anchor": ["agents/mmm_agent.py", "tests/test_mmm_uncertainty.py"],
      "acceptance_signal": "Train MMM; verify CI width <20% of point estimate for main channels",
      "urgency": "P1",
      "owner_hint": "Analytics"
    },
    {
      "id": "Q_096",
      "area": "Execution",
      "question": "Does Creative Rotation Agent log pause/promote actions with before/after states?",
      "why_it_matters": "C15 Red; audit trail gap; enables rollback and performance analysis",
      "evidence_anchor": ["agents/creative_rotation.py", "core/audit.py"],
      "acceptance_signal": "Rotate creative; verify audit log contains asset_id + old/new state",
      "urgency": "P1",
      "owner_hint": "Creative"
    },
    {
      "id": "Q_097",
      "area": "Compliance",
      "question": "Does age gate verification prevent targeting users <18 for alcohol/gambling creatives?",
      "why_it_matters": "C12 Red; regulatory compliance; prevents legal violations",
      "evidence_anchor": ["agents/compliance_agent.py", "core/targeting_rules.py"],
      "acceptance_signal": "Target alcohol ad to <18 segment; verify rejection with age error",
      "urgency": "P0",
      "owner_hint": "Compliance"
    },
    {
      "id": "Q_098",
      "area": "Data",
      "question": "Does Shopify webhook receiver validate HMAC signatures before processing orders?",
      "why_it_matters": "C01 Red; security gap; prevents spoofed order data injection",
      "evidence_anchor": ["agents/webhook_receiver.py", "core/security.py"],
      "acceptance_signal": "Send webhook with invalid HMAC; verify rejection with 401",
      "urgency": "P0",
      "owner_hint": "DataOps"
    },
    {
      "id": "Q_099",
      "area": "Latency",
      "question": "Does Kafka consumer process messages in <1s end-to-end from publish to DB write?",
      "why_it_matters": "C01 Red; latency requirement; enables near-real-time identity resolution",
      "evidence_anchor": ["core/message_bus.py", "tests/test_kafka_latency.py"],
      "acceptance_signal": "Publish event; measure time to DB write; verify p95 <1s",
      "urgency": "P1",
      "owner_hint": "Infra"
    },
    {
      "id": "Q_100",
      "area": "Observability",
      "question": "Does alerting system fire PagerDuty for all P0 failures within 2 minutes?",
      "why_it_matters": "C19 Red; incident response gap; critical for system reliability",
      "evidence_anchor": ["infrastructure/alertmanager.yaml", "core/alerts.py"],
      "acceptance_signal": "Trigger P0 error; verify PagerDuty page sent within 2 min",
      "urgency": "P0",
      "owner_hint": "Infra"
    }
  ]
}
